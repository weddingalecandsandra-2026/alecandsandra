<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Digital Guestbook</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">Digital Guestbook</h1>
      <p class="subtitle">Leave a message for the couple üíå</p>
    </div>

    <div class="card">
      <div class="label">Your name (optional)</div>
      <input id="gbName" placeholder="e.g., John & Jane" />

      <div style="margin-top:12px;" class="label">Message</div>
      <textarea id="gbMessage" placeholder="Write your message here..."></textarea>

      <div style="margin-top:12px;">
        <button class="button" onclick="submitGuestbook()">
          <div class="btn-left">
            <div class="btn-title">Submit Message</div>
            <div class="btn-desc">Thank you for celebrating with us</div>
          </div>
          <div class="pill">üíå</div>
        </button>
      </div>

      <div class="result" style="display:none;">
        <div id="gbResult"></div>
      </div>

      <div class="nav"><a href="index.html">‚Üê Back to Home</a></div>
    </div>
  </div>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wedding Hub</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">Alec & Sandra</h1>
      <p class="subtitle">Welcome! Please select an option below.</p>
    </div>

    <div class="card">
      <div class="grid">
        <a class="button" href="table.html">
          <div class="btn-left">
            <div class="btn-title">Find My Table</div>
            <div class="btn-desc">Look up your table assignment</div>
          </div>
          <div class="pill">ü™ë</div>
        </a>

        <a class="button" href="photos.html">
          <div class="btn-left">
            <div class="btn-title">Upload Photos</div>
            <div class="btn-desc">Share pictures and videos from tonight</div>
          </div>
          <div class="pill">üì∏</div>
        </a>

        <a class="button" href="guestbook.html">
          <div class="btn-left">
            <div class="btn-title">Digital Guestbook</div>
            <div class="btn-desc">Leave a message for the couple</div>
          </div>
          <div class="pill">üíå</div>
        </a>

        <a class="button" href="timeline.html">
          <div class="btn-left">
            <div class="btn-title">Wedding Timeline</div>
            <div class="btn-desc">See what‚Äôs happening next</div>
          </div>
          <div class="pill">‚è±Ô∏è</div>
        </a>
      </div>
    </div>

    <div class="footer">Thank you for celebrating with us ‚ù§Ô∏è</div>
  </div>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Upload Photos</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1 class="title">Upload Photos</h1>
      <p class="subtitle">Share your photos and videos with the couple.</p>
      <p id="uploadCounter" class="subtitle">üì∏ Loading uploads‚Ä¶</p>
    </div>

    <div class="card">
      <form id="photoForm">
        <div class="label">Select photo or video</div>

        <input
          type="file"
          id="photoInput"
          accept="image/*,video/*"
          required
        />

        <div style="margin-top:12px;">
          <button class="button" type="submit">
            <div class="btn-left">
              <div class="btn-title">Upload</div>
              <div class="btn-desc">Share your memories üì∏</div>
            </div>
            <div class="pill">‚¨ÜÔ∏è</div>
          </button>
        </div>

        <div class="result" id="photoResultContainer" style="display:none;">
          <div id="photoResult"></div>
        </div>

        <div class="nav">
          <a href="index.html">‚Üê Back to Home</a>
        </div>
      </form>
    </div>
  </div>
</body>
</html>



/* =========================
   FIND MY TABLE
========================= */

async function findTable() {
  const firstInput = document.getElementById("firstName").value.trim().toLowerCase();
  const lastInput  = document.getElementById("lastName").value.trim().toLowerCase();
  const out = document.getElementById("tableResult");
  out.parentElement.style.display = "block";

  if (!firstInput && !lastInput) {
    out.innerHTML = "Please enter at least a first or last name.";
    return;
  }

  const SHEET_ID = "1ADmvt0LnQuTcGZkcs4I8hFmMePy5Ze9vwE9m8OL9-Bo";
  const SHEET_NAME = "Sheet1";
  const url = `https://opensheet.elk.sh/${SHEET_ID}/${SHEET_NAME}`;

  try {
    const response = await fetch(url);
    const rows = await response.json();

    const guests = rows.map(r => ({
      first: (r["First Name"] || "").trim().toLowerCase(),
      last:  (r["Last Name"]  || "").trim().toLowerCase(),
      table: (r["Table #"]    || "").trim()
    }));

    let match = null;

    if (firstInput && lastInput) {
      match = guests.find(g => g.first === firstInput && g.last === lastInput);
    }

    if (!match && lastInput) {
      match = guests.find(g => g.last === lastInput);
    }

    if (match) {
      out.innerHTML = `You are seated at <b>Table ${match.table}</b>.`;
    } else {
      out.innerHTML = `
        Sorry ‚Äî we couldn‚Äôt find that name.<br>
        Please check spelling or see a host.
      `;
    }

  } catch (err) {
    out.innerHTML = "Error loading seating data. Please try again.";
    console.error(err);
  }
}


/* =========================
   DIGITAL GUESTBOOK
========================= */

async function submitGuestbook() {
  const name = document.getElementById("gbName").value.trim();
  const message = document.getElementById("gbMessage").value.trim();
  const out = document.getElementById("gbResult");
  out.parentElement.style.display = "block";

  if (!message) {
    out.innerHTML = "Please write a message before submitting.";
    return;
  }

  const GUESTBOOK_URL =
    "https://script.google.com/macros/s/AKfycbxOpOc8PAmRvxHK3vQTCGbcIDkRc3_hNYTJ6YGKpuunKIm_xr3vdvFaPmm-XwWkRDmS/exec";

  try {
    await fetch(GUESTBOOK_URL, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ name, message })
    });

    out.innerHTML = "Thank you for your message! üíå";
    document.getElementById("gbName").value = "";
    document.getElementById("gbMessage").value = "";

  } catch (err) {
    out.innerHTML = "Error submitting message. Please try again.";
    console.error(err);
  }
}


/* =========================
   UPLOAD COUNTER (PHOTOS)
========================= */

const PHOTO_UPLOAD_WEBAPP_URL =
  "https://script.google.com/macros/s/AKfycby7xx90tUy6-X0kKx6cXtBlTL99Ie7z_32n9-ss_ln9DBJmE-i3FRqmKZbgcLp6odP4/exec";

async function loadUploadCounter() {
  try {
    const el = document.getElementById("uploadCounter");
    if (!el) return;

    const res = await fetch(PHOTO_UPLOAD_WEBAPP_URL);
    const data = await res.json();

    const n = Number(data.count ?? 0);
    el.innerHTML = `üì∏ <b>${n}</b> ${n === 1 ? "photo" : "photos"} shared so far!`;
  } catch (err) {
    console.error("Counter load failed", err);
  }
}


/* =========================
   PHOTO UPLOADS
========================= */

document.addEventListener("DOMContentLoaded", () => {
  // Only affects pages that have the counter element
  loadUploadCounter();

  const form = document.getElementById("photoForm");
  if (!form) return;

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const fileInput = document.getElementById("photoInput");
    const resultBox = document.getElementById("photoResult");
    const container = document.getElementById("photoResultContainer");

    container.style.display = "block";
    resultBox.innerHTML = "Uploading‚Ä¶ ‚è≥";

    const file = fileInput.files[0];
    if (!file) {
      resultBox.innerHTML = "Please select a file.";
      return;
    }

    const reader = new FileReader();
    reader.onload = async () => {
      const base64 = reader.result.split(",")[1];

      try {
        await fetch(PHOTO_UPLOAD_WEBAPP_URL, {
          method: "POST",
          mode: "no-cors",
          body: new URLSearchParams({
            file: base64,
            filename: `${Date.now()}_${file.name}`,
            mimeType: file.type
          })
        });

        resultBox.innerHTML = "Upload successful! üì∏ Thank you!";
        fileInput.value = "";

        // Refresh counter after each upload
        loadUploadCounter();

      } catch (err) {
        resultBox.innerHTML = "Upload failed. Please try again.";
        console.error(err);
      }
    };

    reader.readAsDataURL(file);
  });
});


:root{
  --bg: #fff7f4;
  --card: #ffffff;
  --text: #1f1f1f;
  --muted: #666;
  --accent: #b86b77;
  --shadow: 0 10px 30px rgba(0,0,0,0.08);
  --radius: 18px;
}

*{ box-sizing: border-box; }
body{
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background: radial-gradient(circle at top, #ffffff, var(--bg));
  color: var(--text);
}

.container{
  max-width: 720px;
  margin: 0 auto;
  padding: 28px 18px 44px;
}

.header{
  text-align: center;
  padding: 18px 10px 10px;
}

.title{
  font-family: Georgia, "Times New Roman", serif;
  font-weight: 600;
  letter-spacing: 0.3px;
  margin: 0;
  font-size: 32px;
}

.subtitle{
  margin: 10px 0 0;
  color: var(--muted);
  font-size: 15px;
}

.card{
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 18px;
  margin-top: 16px;
}

.grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
  margin-top: 14px;
}

a.button, button.button{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  width: 100%;
  padding: 14px 16px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,0.06);
  background: #fff;
  text-decoration: none;
  color: var(--text);
  box-shadow: 0 6px 18px rgba(0,0,0,0.05);
  cursor: pointer;
}

a.button:hover, button.button:hover{
  border-color: rgba(184,107,119,0.35);
  transform: translateY(-1px);
  transition: 0.12s ease;
}

.btn-left{
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.btn-title{
  font-weight: 650;
  font-size: 16px;
}

.btn-desc{
  font-size: 13px;
  color: var(--muted);
}

.pill{
  font-size: 18px;
}

.label{
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 6px;
}

input, textarea{
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.12);
  padding: 12px 12px;
  font-size: 16px;
  outline: none;
}

textarea{ min-height: 120px; resize: vertical; }

.row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.small{
  font-size: 13px;
  color: var(--muted);
}

.nav{
  margin-top: 12px;
  display: flex;
  justify-content: center;
}

.nav a{
  color: var(--accent);
  text-decoration: none;
  font-weight: 600;
}

.result{
  margin-top: 12px;
  padding: 12px;
  border-radius: 12px;
  background: rgba(184,107,119,0.08);
  border: 1px solid rgba(184,107,119,0.20);
}

.footer{
  text-align: center;
  margin-top: 22px;
  color: var(--muted);
  font-size: 12px;
}

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Find My Table</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">Find My Table</h1>
      <p class="subtitle">Enter your name to see your table assignment.</p>
    </div>

    <div class="card">
      <div class="row">
        <div>
          <div class="label">First name</div>
          <input id="firstName" placeholder="First name" />
        </div>
        <div>
          <div class="label">Last name</div>
          <input id="lastName" placeholder="Last name" />
        </div>
      </div>

      <div style="margin-top:12px;">
        <button class="button" onclick="findTable()">
          <div class="btn-left">
            <div class="btn-title">Find My Seat</div>
            <div class="btn-desc">Instant lookup</div>
          </div>
          <div class="pill">üîé</div>
        </button>
      </div>

      <div class="result" style="display:none;">
        <div id="tableResult"></div>
      </div>

      <p class="small" style="margin-top:10px;">
        Tip: If your name doesn‚Äôt show up later, try just your last name.
      </p>

      <div class="nav"><a href="index.html">‚Üê Back to Home</a></div>
    </div>
  </div>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wedding Timeline</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">Wedding Timeline</h1>
      <p class="subtitle">Here‚Äôs what‚Äôs coming up ‚è±Ô∏è</p>
    </div>

    <div class="card">
      <div class="card" style="margin-top:0;">
        <b>4:00 PM</b> ‚Äî Ceremony
      </div>
      <div class="card">
        <b>5:00 PM</b> ‚Äî Cocktail Hour
      </div>
      <div class="card">
        <b>6:00 PM</b> ‚Äî Reception Begins
      </div>
      <div class="card">
        <b>6:30 PM</b> ‚Äî First Dance
      </div>
      <div class="card">
        <b>7:15 PM</b> ‚Äî Dinner
      </div>
      <div class="card">
        <b>8:30 PM</b> ‚Äî Cake Cutting
      </div>
      <div class="card">
        <b>9:00 PM</b> ‚Äî Dancing
      </div>

      <div class="nav"><a href="index.html">‚Üê Back to Home</a></div>
    </div>
  </div>
</body>
</html>
